export default class TgBohrung {

    constructor(n, tg) {
        this.nennmass = parseFloat(n)
        this.toleranzgrad = tg
    }
    
    static Toleranzgrade(){
        return {"3...6":{"C":70,"D":30,"E":20,"F":10,"G":4,"H":0,"Jb":6,"K":-1,"M":-4,"N":-8,"P":-12,"R":-15,"S":-19,"T":"-","U":-23,"X":-28,"Z":-35,"ZA":-42,"ZB":-50,"ZC":-80,"IT3":1,"IT4":1.5,"IT5":1,"IT6":3,"IT7":4,"IT8":6}," 6...10":{"C":80,"D":40,"E":25,"F":13,"G":5,"H":0,"Jb":8,"K":-1,"M":-6,"N":-10,"P":-15,"R":-19,"S":-23,"T":"-","U":-28,"X":-34,"Z":-42,"ZA":-52,"ZB":-67,"ZC":-97,"IT3":1,"IT4":1.5,"IT5":2,"IT6":3,"IT7":6,"IT8":7},"10...14":{"C":95,"D":50,"E":32,"F":16,"G":6,"H":0,"Jb":10,"K":-1,"M":-7,"N":-12,"P":-18,"R":-23,"S":-28,"T":"-","U":-33,"X":-40,"Z":-50,"ZA":-64,"ZB":-90,"ZC":-130,"IT3":1,"IT4":2,"IT5":3,"IT6":3,"IT7":7,"IT8":9},"14...18":{"C":95,"D":50,"E":32,"F":16,"G":6,"H":0,"Jb":10,"K":-1,"M":-7,"N":-12,"P":-18,"R":-23,"S":-28,"T":"-","U":-33,"X":-45,"Z":-60,"ZA":-77,"ZB":-108,"ZC":-150,"IT3":1,"IT4":2,"IT5":3,"IT6":3,"IT7":7,"IT8":9},"18...24":{"C":110,"D":65,"E":40,"F":20,"G":7,"H":0,"Jb":"-","K":-2,"M":-8,"N":-15,"P":-22,"R":-28,"S":-35,"T":"-","U":-41,"X":-54,"Z":-73,"ZA":-98,"ZB":-136,"ZC":-188,"IT3":1.5,"IT4":2,"IT5":3,"IT6":4,"IT7":8,"IT8":12},"24...30":{"C":110,"D":65,"E":40,"F":20,"G":7,"H":0,"Jb":"-","K":-2,"M":-8,"N":-15,"P":-22,"R":-28,"S":-35,"T":-41,"U":-48,"X":-64,"Z":-88,"ZA":-118,"ZB":-160,"ZC":-218,"IT3":1.5,"IT4":2,"IT5":3,"IT6":4,"IT7":8,"IT8":12},"30...40":{"C":120,"D":80,"E":50,"F":25,"G":9,"H":0,"Jb":"-","K":-2,"M":-9,"N":-17,"P":-26,"R":-34,"S":-43,"T":-48,"U":-60,"X":-80,"Z":-112,"ZA":-148,"ZB":-200,"ZC":-274,"IT3":1.5,"IT4":3,"IT5":4,"IT6":5,"IT7":9,"IT8":14},"40...50":{"C":130,"D":80,"E":50,"F":25,"G":9,"H":0,"Jb":"-","K":-2,"M":-9,"N":-17,"P":-26,"R":-34,"S":-43,"T":-54,"U":-70,"X":-97,"Z":-136,"ZA":-180,"ZB":-242,"ZC":-325,"IT3":1.5,"IT4":3,"IT5":4,"IT6":5,"IT7":9,"IT8":14},"50...65":{"C":140,"D":100,"E":60,"F":30,"G":10,"H":0,"Jb":"-","K":-2,"M":-11,"N":-20,"P":-32,"R":-41,"S":-53,"T":-66,"U":-87,"X":-122,"Z":-172,"ZA":-226,"ZB":-300,"ZC":-405,"IT3":2,"IT4":3,"IT5":5,"IT6":6,"IT7":11,"IT8":16},"65...80":{"C":150,"D":100,"E":60,"F":30,"G":10,"H":0,"Jb":"-","K":-2,"M":-11,"N":-20,"P":-32,"R":-43,"S":-59,"T":-75,"U":-102,"X":-146,"Z":-210,"ZA":-274,"ZB":-360,"ZC":-480,"IT3":2,"IT4":3,"IT5":5,"IT6":6,"IT7":11,"IT8":16},"80...100":{"C":170,"D":120,"E":72,"F":36,"G":12,"H":0,"Jb":"-","K":-3,"M":-13,"N":-23,"P":-37,"R":-51,"S":-71,"T":-91,"U":-124,"X":-178,"Z":-258,"ZA":-335,"ZB":-445,"ZC":-585,"IT3":2,"IT4":4,"IT5":5,"IT6":7,"IT7":13,"IT8":19},"100...120":{"C":180,"D":120,"E":72,"F":36,"G":12,"H":0,"Jb":"-","K":-3,"M":-13,"N":-23,"P":-37,"R":-54,"S":-79,"T":-104,"U":-144,"X":-210,"Z":-310,"ZA":-400,"ZB":-525,"ZC":-690,"IT3":2,"IT4":4,"IT5":5,"IT6":7,"IT7":13,"IT8":19},"120...140":{"C":200,"D":145,"E":85,"F":43,"G":14,"H":0,"Jb":"-","K":-3,"M":-15,"N":-27,"P":-43,"R":-63,"S":-92,"T":-122,"U":-170,"X":-248,"Z":-365,"ZA":-470,"ZB":-620,"ZC":-800,"IT3":3,"IT4":4,"IT5":6,"IT6":7,"IT7":15,"IT8":23},"140...160":{"C":210,"D":145,"E":85,"F":43,"G":14,"H":0,"Jb":"-","K":-3,"M":-15,"N":-27,"P":-43,"R":-65,"S":-100,"T":-134,"U":-190,"X":-280,"Z":-415,"ZA":-535,"ZB":-700,"ZC":-900,"IT3":3,"IT4":4,"IT5":6,"IT6":7,"IT7":15,"IT8":23},"160...180":{"C":230,"D":145,"E":100,"F":43,"G":14,"H":0,"Jb":"-","K":-3,"M":-15,"N":-27,"P":-43,"R":-68,"S":-108,"T":-146,"U":-210,"X":-310,"Z":-465,"ZA":-600,"ZB":-780,"ZC":-1000,"IT3":3,"IT4":4,"IT5":6,"IT6":7,"IT7":15,"IT8":23},"180...200":{"C":240,"D":170,"E":100,"F":50,"G":15,"H":0,"Jb":"-","K":-4,"M":-17,"N":-31,"P":-50,"R":-77,"S":-122,"T":-166,"U":-236,"X":-350,"Z":-520,"ZA":-670,"ZB":-880,"ZC":-1150,"IT3":3,"IT4":4,"IT5":6,"IT6":9,"IT7":17,"IT8":26},"200...225":{"C":260,"D":170,"E":100,"F":50,"G":15,"H":0,"Jb":"-","K":-4,"M":-17,"N":-31,"P":-50,"R":-80,"S":-130,"T":-180,"U":-258,"X":-385,"Z":-575,"ZA":-740,"ZB":-960,"ZC":-1250,"IT3":3,"IT4":4,"IT5":6,"IT6":9,"IT7":17,"IT8":26},"225...250":{"C":280,"D":170,"E":110,"F":50,"G":15,"H":0,"Jb":"-","K":-4,"M":-17,"N":-31,"P":-50,"R":-84,"S":-140,"T":-196,"U":-284,"X":-425,"Z":-640,"ZA":-820,"ZB":-1050,"ZC":-1350,"IT3":3,"IT4":4,"IT5":6,"IT6":9,"IT7":17,"IT8":26},"250...280":{"C":300,"D":190,"E":110,"F":56,"G":17,"H":0,"Jb":"-","K":-4,"M":-20,"N":-34,"P":-56,"R":-94,"S":-158,"T":-218,"U":-315,"X":-475,"Z":-710,"ZA":-920,"ZB":-1200,"ZC":-1550,"IT3":4,"IT4":4,"IT5":7,"IT6":9,"IT7":20,"IT8":29},"280...315":{"C":330,"D":190,"E":110,"F":56,"G":17,"H":0,"Jb":"-","K":-4,"M":-20,"N":-34,"P":-56,"R":-98,"S":-170,"T":-240,"U":-350,"X":-525,"Z":-790,"ZA":-1000,"ZB":-1300,"ZC":-1700,"IT3":4,"IT4":4,"IT5":7,"IT6":9,"IT7":20,"IT8":29},"315...355":{"C":360,"D":210,"E":125,"F":62,"G":18,"H":0,"Jb":"-","K":-4,"M":-21,"N":-37,"P":-62,"R":-108,"S":-190,"T":-268,"U":-390,"X":-590,"Z":-900,"ZA":-1150,"ZB":-1500,"ZC":-1900,"IT3":4,"IT4":5,"IT5":7,"IT6":11,"IT7":21,"IT8":32},"355...400":{"C":400,"D":210,"E":125,"F":62,"G":18,"H":0,"Jb":"-","K":-4,"M":-21,"N":-37,"P":-62,"R":-114,"S":-208,"T":-294,"U":-435,"X":-660,"Z":-1000,"ZA":-1300,"ZB":-1650,"ZC":-2100,"IT3":4,"IT4":5,"IT5":7,"IT6":11,"IT7":21,"IT8":32},"400...450":{"C":440,"D":230,"E":135,"F":68,"G":20,"H":0,"Jb":"-","K":-5,"M":-23,"N":-40,"P":-68,"R":-126,"S":-232,"T":-330,"U":-490,"X":-740,"Z":-1100,"ZA":-1450,"ZB":-1850,"ZC":-2400,"IT3":5,"IT4":5,"IT5":7,"IT6":13,"IT7":23,"IT8":34},"450...500":{"C":480,"D":230,"E":135,"F":68,"G":20,"H":0,"Jb":"-","K":-5,"M":-23,"N":-40,"P":-68,"R":-132,"S":-252,"T":-360,"U":-540,"X":-820,"Z":-1250,"ZA":-1600,"ZB":-2100,"ZC":-2600,"IT3":5,"IT4":5,"IT5":7,"IT6":13,"IT7":23,"IT8":34}}
    }

    getToleranzgrade() {
        return this.constructor.Toleranzgrade()
    }

    getNennmassbereiche() {
        let nennmassbereiche = this.getToleranzgrade()
        nennmassbereiche = Object.keys(nennmassbereiche).map(function(key) {
            return { 'min':parseInt(key.split('...')[0]),
                     'max':parseInt(key.split('...')[1]) }   
        });
        return nennmassbereiche
    }

    getNennmassbereich() {
        let result =  this.getNennmassbereiche().findIndex(function(value) {
            return this.nennmass > value['min'] && this.nennmass <= value['max']
        }.bind(this))
        if(result == -1){
            throw { name: 'Fehler Toleranzgrad Bohrung', message: 'Nennmass ist ausserhalb des gültigen Bereichs (3<N<=500'}
        }
        return result
    }

    getGrundtoleranzFromNennmassbereich() {
        let result = this.getToleranzgrade()
        result = result[Object.keys(result)[this.getNennmassbereich()]];
        return result
    }

    getToleranzgrad() {
        let result =  this.getGrundtoleranzFromNennmassbereich()[this.toleranzgrad]
        if(!result){
            throw { name: 'Fehler Toleranzgrad Bohrung', message: 'Toleranzgrad ist ausserhalb des gültigen Bereichs'}
        }
        return result
    }

}